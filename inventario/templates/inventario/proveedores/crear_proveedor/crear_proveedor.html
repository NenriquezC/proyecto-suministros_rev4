{% extends "base.html" %}
{% load static %}

{% block title %}Inventario · Crear proveedor{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/global.css' %}">
<style>
.container { max-width: 1200px; }
.page-header { margin: 24px 0 12px; }
.page-title { margin: 0; color: #094067; font-weight: 700; }
.page-subtitle { margin: 6px 0 0; color: #6c757d; }

.card { border-radius: 10px; box-shadow: 0 2px 18px rgba(44,62,80,0.08); border: 1px solid #dfe6e9; }
.card-header { background: #3a5068; color: #fff; border-bottom: 1px solid #dfe6e9; }
.card-title { margin: 0; font-size: 1.12rem; font-weight: 700; }

.form-rows-2col { display: grid; grid-template-columns: 240px 1fr; column-gap: 16px; row-gap: 12px; align-items: center; }
.form-label-left { font-weight: 600; text-align: left; color: #094067; }
.form-label-left .req { color: #ef4565; }
.form-field { display: flex; align-items: center; gap: 8px; }
.form-field input, .form-field select, .form-field textarea { width: 100%; max-width: 420px; text-align: left; }
.invalid-feedback { margin-top: 4px; }

.card-actions { display:flex; justify-content:flex-end; gap: 8px; }

@media (max-width: 700px) {
    .form-rows-2col { grid-template-columns: 1fr; }
    .form-field input, .form-field select, .form-field textarea { max-width: 100%; }
}
</style>
{% endblock %}

{% block content %}
<div class="container my-3">
<div class="page-header">
    <h1 class="page-title">NUEVO PROVEEDOR</h1>
    <p class="page-subtitle">Registra un proveedor para usarlo en compras</p>
</div>

<form method="post" novalidate id="form-proveedor">
    {% csrf_token %}

    {% include "inventario/proveedores/crear_proveedor/partials/_crear_proveedor_cabecera.html" %}
    {% include "inventario/proveedores/crear_proveedor/partials/_crear_proveedor_acciones.html" %}
</form>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Evita doble envío y enfoca el primer campo
(function(){
    const form = document.getElementById('form-proveedor');
    if (form) {
    let sent = false;
    form.addEventListener('submit', function(e){
        if (sent) { e.preventDefault(); return false; }
        sent = true;
    }, {capture:true});
      // foco amable
    const first = form.querySelector('input, select, textarea');
    if (first) try { first.focus(); } catch(e){}
    }
})();
</script>
{% endblock %}